<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
        <style>td {
            text-overflow: ellipsis; /* for IE */
            -moz-text-overflow: ellipsis; /* for Firefox,mozilla */
            overflow: hidden;
            white-space: nowrap;
            border: 1px solid;
            text-align: left
        }</style>
    </head>
    <body>
        <h1>京东订单数据同步</h1>
        <table class="table table-striped">
            <thead class="success">
            <th>订单号</th>
            <th>总价</th>
            <th>收货地址</th>
            <th>电话</th>
            <th>商品</th>
            </thead>
            <tbody id='orderTable'></tbody>
        </table>

        <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            var urlGetOrder = 'https://api.jd.com/routerjson?v=2.0&method=jingdong.pop.order.search&app_key=8F3A3F4A4C2C8CC7FC2B351B2F4F785E&access_token=6a47cb0d-ef17-4a64-8ca0-44128655c6b8&360buy_param_json={"start_date":"","end_date":"","order_state":"FINISHED_L","optional_fields":"orderTotalPrice,consigneeInfo,itemInfoList","page":"1","page_size":"55","sortType":"","dateType":""}';
            $.ajax({
                url: urlGetOrder,
                success: function (orderPageResult) {
                    var orderInfoList = JSON.parse(orderPageResult).jingdong_pop_order_search_responce.searchorderinfo_result.orderInfoList;
                    for (var i = 0; i < orderInfoList.length; i++) {
                        var row = orderInfoList[i];
                        $("#orderTable", self.parent.frames["mainFrame"].document).append("<tr><td>" + row.orderId + "</td><td>" + row.orderTotalPrice + "</td><td>" + row.consigneeInfo.fullAddress + "</td><td>" + row.consigneeInfo.telephone + "</td><td>" + JSON.stringify(row.itemInfoList) + "</td></tr>");
                    }
                }
            })
        </script>
    </body>
</html>
